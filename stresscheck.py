# ------------------------------------------------------------
# ä¸­å¤§ç”Ÿå”ç‰ˆ è·æ¥­æ€§ã‚¹ãƒˆãƒ¬ã‚¹ç°¡æ˜“èª¿æŸ» - ver1.4.1ï¼ˆè­¦å‘Šé™¤å»ï¼‹è‡ªç„¶å¹…ãƒœã‚¿ãƒ³ï¼‰
# ------------------------------------------------------------
import streamlit as st
import io
import numpy as np
import matplotlib.pyplot as plt
from datetime import datetime
from reportlab.pdfgen import canvas
from reportlab.lib.pagesizes import A4
from reportlab.pdfbase import pdfmetrics
from reportlab.pdfbase.cidfonts import UnicodeCIDFont
from reportlab.lib.utils import ImageReader

# ------------------------------------------------------------
# åŸºæœ¬è¨­å®š
# ------------------------------------------------------------
st.set_page_config(page_title="ä¸­å¤§ç”Ÿå”ç‰ˆ è·æ¥­æ€§ã‚¹ãƒˆãƒ¬ã‚¹ç°¡æ˜“èª¿æŸ»-ver1.4.1", layout="centered")

plt.rcParams['font.family'] = 'IPAexGothic'
plt.rcParams['axes.unicode_minus'] = False

APP_TITLE = "ä¸­å¤§ç”Ÿå”ç‰ˆ è·æ¥­æ€§ã‚¹ãƒˆãƒ¬ã‚¹ç°¡æ˜“èª¿æŸ»-ver1.4.1ï¼ˆè­¦å‘Šé™¤å»ï¼‹è‡ªç„¶å¹…ãƒœã‚¿ãƒ³ï¼‰"
DESC = (
    "æœ¬ãƒã‚§ãƒƒã‚¯ã¯åšç”ŸåŠ´åƒçœã®ã€Œè·æ¥­æ€§ã‚¹ãƒˆãƒ¬ã‚¹ç°¡æ˜“èª¿æŸ»ç¥¨ï¼ˆ57é …ç›®ï¼‰ã€ã‚’ã‚‚ã¨ã«ä½œæˆã—ãŸã€"
    "ä¸­å¤®å¤§å­¦ç”Ÿæ´»å”åŒçµ„åˆã‚»ãƒ«ãƒ•ã‚±ã‚¢ç‰ˆã§ã™ã€‚å›ç­”çµæœã¯ç«¯æœ«å†…ã®ã¿ã§å‡¦ç†ã•ã‚Œã€ä¿å­˜ãƒ»é€ä¿¡ã¯è¡Œã‚ã‚Œã¾ã›ã‚“ã€‚"
)

# ------------------------------------------------------------
# ã‚«ãƒ©ãƒ¼è¨­å®šï¼ˆæ¿ƒè‰²å›ºå®šï¼‰
# ------------------------------------------------------------
COLOR_A = "#8B0000"   # æ·±èµ¤
COLOR_B = "#003366"   # æ¿ƒç´º
COLOR_C = "#004B23"   # æ·±ç·‘
COLOR_D = "#7B3F00"   # ç„¦ã’èŒ¶
COLOR_AVG = "#666666" # å…¨å›½å¹³å‡ï¼ˆç°ï¼‰

# ------------------------------------------------------------
# å›ç­”é¸æŠè‚¢
# ------------------------------------------------------------
CHOICES_AGREE = [
    "1ï¼šãã†ã§ã¯ãªã„",
    "2ï¼šã‚ã¾ã‚Šãã†ã§ã¯ãªã„",
    "3ï¼šã©ã¡ã‚‰ã¨ã‚‚ã„ãˆãªã„",
    "4ï¼šã‚„ã‚„ãã†ã ",
    "5ï¼šãã†ã ",
]

CHOICES_FREQ = [
    "1ï¼šã»ã¨ã‚“ã©ãªã„",
    "2ï¼šã‚ã¾ã‚Šãªã„",
    "3ï¼šã©ã¡ã‚‰ã¨ã‚‚ã„ãˆãªã„",
    "4ï¼šã¨ãã©ãã‚ã‚‹",
    "5ï¼šã‚ˆãã‚ã‚‹",
]

# ------------------------------------------------------------
# è¨­å•ãƒªã‚¹ãƒˆï¼‹ã‚¿ã‚¤ãƒ—
# ------------------------------------------------------------
QUESTIONS = [
    # Aç¾¤ï¼ˆ17å•ï¼‰
    "è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã§ä»•äº‹ãŒã§ãã‚‹ã€‚","ä»•äº‹ã®é‡ãŒå¤šã„ã€‚","æ™‚é–“å†…ã«ä»•äº‹ã‚’çµ‚ãˆã‚‹ã®ãŒé›£ã—ã„ã€‚",
    "ä»•äº‹ã®å†…å®¹ãŒé«˜åº¦ã§ã‚ã‚‹ã€‚","è‡ªåˆ†ã®çŸ¥è­˜ã‚„æŠ€èƒ½ã‚’ä½¿ã†ä»•äº‹ã§ã‚ã‚‹ã€‚","ä»•äº‹ã«å¯¾ã—ã¦è£é‡ãŒã‚ã‚‹ã€‚",
    "è‡ªåˆ†ã®ä»•äº‹ã®å½¹å‰²ãŒã¯ã£ãã‚Šã—ã¦ã„ã‚‹ã€‚","è‡ªåˆ†ã®ä»•äº‹ãŒçµ„ç¹”ã®ä¸­ã§é‡è¦ã ã¨æ€ã†ã€‚",
    "ä»•äº‹ã®æˆæœãŒå ±ã‚ã‚Œã‚‹ã¨æ„Ÿã˜ã‚‹ã€‚","è·å ´ã®é›°å›²æ°—ãŒè‰¯ã„ã€‚","è·å ´ã®äººé–“é–¢ä¿‚ã§æ°—ã‚’ä½¿ã†ã€‚",
    "ä¸Šå¸ã‹ã‚‰ã®ã‚µãƒãƒ¼ãƒˆãŒå¾—ã‚‰ã‚Œã‚‹ã€‚","åŒåƒšã‹ã‚‰ã®ã‚µãƒãƒ¼ãƒˆãŒå¾—ã‚‰ã‚Œã‚‹ã€‚","ä»•äº‹ä¸Šã®ç›¸è«‡ãŒã§ãã‚‹ç›¸æ‰‹ãŒã„ã‚‹ã€‚",
    "é¡§å®¢ã‚„å–å¼•å…ˆã¨ã®é–¢ä¿‚ãŒã†ã¾ãã„ã£ã¦ã„ã‚‹ã€‚","è‡ªåˆ†ã®æ„è¦‹ãŒè·å ´ã§å°Šé‡ã•ã‚Œã¦ã„ã‚‹ã€‚","è·å ´ã«è‡ªåˆ†ã®å±…å ´æ‰€ãŒã‚ã‚‹ã€‚",
    # Bç¾¤ï¼ˆ29å•ï¼‰
    "æ´»æ°—ãŒã‚ã‚‹ã€‚","ä»•äº‹ã«é›†ä¸­ã§ãã‚‹ã€‚","æ°—åˆ†ãŒæ™´ã‚Œãªã„ã€‚","ã‚†ã†ã†ã¤ã ã€‚","æ€’ã‚Šã£ã½ã„ã€‚","ã‚¤ãƒ©ã‚¤ãƒ©ã™ã‚‹ã€‚",
    "è½ã¡ç€ã‹ãªã„ã€‚","ä¸å®‰ã ã€‚","çœ ã‚Œãªã„ã€‚","ç–²ã‚Œã‚„ã™ã„ã€‚","ä½“ãŒã ã‚‹ã„ã€‚","é ­ãŒé‡ã„ã€‚","è‚©ã“ã‚Šã‚„è…°ç—›ãŒã‚ã‚‹ã€‚",
    "èƒƒãŒç—›ã„ã€é£Ÿæ¬²ãŒãªã„ã€‚","å‹•æ‚¸ã‚„æ¯è‹¦ã—ã•ãŒã‚ã‚‹ã€‚","æ‰‹è¶³ã®å†·ãˆã€ã—ã³ã‚ŒãŒã‚ã‚‹ã€‚","ã‚ã¾ã„ã‚„ãµã‚‰ã¤ããŒã‚ã‚‹ã€‚",
    "ä½“èª¿ãŒã™ãã‚Œãªã„ã¨æ„Ÿã˜ã‚‹ã€‚","ä»•äº‹ã‚’ã™ã‚‹æ°—åŠ›ãŒå‡ºãªã„ã€‚","é›†ä¸­åŠ›ãŒç¶šã‹ãªã„ã€‚","ç‰©äº‹ã‚’æ¥½ã—ã‚ãªã„ã€‚",
    "è‡ªåˆ†ã‚’è²¬ã‚ã‚‹ã“ã¨ãŒå¤šã„ã€‚","å‘¨ã‚Šã®äººã«å¯¾ã—ã¦èˆˆå‘³ãŒã‚ã‹ãªã„ã€‚","è‡ªåˆ†ã«ã¯ä¾¡å€¤ãŒãªã„ã¨æ„Ÿã˜ã‚‹ã€‚",
    "å°†æ¥ã«å¸Œæœ›ãŒã‚‚ã¦ãªã„ã€‚","çœ ã£ã¦ã‚‚ç–²ã‚ŒãŒã¨ã‚Œãªã„ã€‚","å°ã•ãªã“ã¨ãŒæ°—ã«ãªã‚‹ã€‚","æ¶™ã‚‚ã‚ããªã‚‹ã€‚","ä¼‘æ—¥ã‚‚ç–²ã‚ŒãŒæ®‹ã‚‹ã€‚",
    # Cç¾¤ï¼ˆ9å•ï¼‰
    "ä¸Šå¸ã¯ã‚ãªãŸã®æ„è¦‹ã‚’èã„ã¦ãã‚Œã‚‹ã€‚","ä¸Šå¸ã¯ç›¸è«‡ã«ã®ã£ã¦ãã‚Œã‚‹ã€‚","ä¸Šå¸ã¯å…¬å¹³ã«æ‰±ã£ã¦ãã‚Œã‚‹ã€‚",
    "åŒåƒšã¯å›°ã£ãŸã¨ãåŠ©ã‘ã¦ãã‚Œã‚‹ã€‚","åŒåƒšã¨ã¯æ°—è»½ã«è©±ãŒã§ãã‚‹ã€‚","åŒåƒšã¨å”åŠ›ã—ãªãŒã‚‰ä»•äº‹ãŒã§ãã‚‹ã€‚",
    "å®¶æ—ã‚„å‹äººã¯ã‚ãªãŸã‚’æ”¯ãˆã¦ãã‚Œã‚‹ã€‚","å®¶æ—ã‚„å‹äººã«æ‚©ã¿ã‚’è©±ã›ã‚‹ã€‚","å®¶æ—ã‚„å‹äººã¯ã‚ãªãŸã®ä»•äº‹ã‚’ç†è§£ã—ã¦ãã‚Œã‚‹ã€‚",
    # Dç¾¤ï¼ˆ2å•ï¼‰
    "ç¾åœ¨ã®ä»•äº‹ã«æº€è¶³ã—ã¦ã„ã‚‹ã€‚","ç¾åœ¨ã®ç”Ÿæ´»ã«æº€è¶³ã—ã¦ã„ã‚‹ã€‚"
]
Q_TYPE = ["A"] * 17 + ["B"] * 29 + ["C"] * 9 + ["D"] * 2

# ------------------------------------------------------------
# ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ¶å¾¡
# ------------------------------------------------------------
if "page" not in st.session_state:
    st.session_state.page = 0
if "answers" not in st.session_state:
    st.session_state.answers = [None] * len(QUESTIONS)

def next_page():
    st.session_state.page += 1
    st.rerun()

def prev_page():
    if st.session_state.page > 0:
        st.session_state.page -= 1
        st.rerun()

def restart():
    st.session_state.page = 0
    st.session_state.answers = [None] * len(QUESTIONS)
    st.rerun()

# ------------------------------------------------------------
# UI
# ------------------------------------------------------------
st.title(APP_TITLE)
st.write(DESC)
st.divider()

# ------------------------------------------------------------
# è³ªå•ãƒšãƒ¼ã‚¸ï¼ˆå·¦ï¼æ¬¡ã¸ï¼å³ï¼å‰ã¸ï¼è‡ªç„¶å¹…ãƒœã‚¿ãƒ³ï¼‰
# ------------------------------------------------------------
if st.session_state.page < len(QUESTIONS):
    q_num = st.session_state.page + 1
    st.subheader(f"Q{q_num} / {len(QUESTIONS)}")
    st.write(QUESTIONS[st.session_state.page])

    q_type = Q_TYPE[st.session_state.page]
    choice_set = CHOICES_FREQ if q_type == "B" else CHOICES_AGREE

    prev_val = st.session_state.answers[st.session_state.page]
    index_val = (prev_val - 1) if prev_val else None

    choice = st.radio("å›ç­”ã‚’é¸ã‚“ã§ãã ã•ã„ï¼š", choice_set, index=index_val, key=f"q_{q_num}")

    st.markdown("<div style='height:12px;'></div>", unsafe_allow_html=True)
    col1, col2 = st.columns([1, 1])

    with col1:  # å·¦å´ï¼šæ¬¡ã¸
        if choice:
            st.session_state.answers[st.session_state.page] = choice_set.index(choice) + 1
            if st.button("æ¬¡ã¸ â–¶"):
                next_page()

    with col2:  # å³å´ï¼šå‰ã¸
        if st.session_state.page > 0:
            if st.button("â—€ å‰ã¸"):
                prev_page()

# ------------------------------------------------------------
# é›†è¨ˆãƒ»è§£æãƒ»PDFç”Ÿæˆ
# ------------------------------------------------------------
else:
    st.success("ğŸ‰ å›ç­”å®Œäº†ï¼è§£æã‚’é–‹å§‹ã—ã¾ã™ã€‚")
    answers = st.session_state.answers

    A, B, C, D = answers[0:17], answers[17:46], answers[46:55], answers[55:57]
    def normalize(val, n): 
        return round((val - n) / (4 * n) * 100, 1)

    A_score, B_score, C_score, D_score = [normalize(sum(x), len(x)) for x in [A, B, C, D]]
    nat_A, nat_B, nat_C, nat_D = 45, 40, 35, 30
    nat_vals, my_vals = [nat_A, nat_B, nat_C, nat_D], [A_score, B_score, C_score, D_score]
    diff = [round(m - n, 1) for m, n in zip(my_vals, nat_vals)]

    if B_score >= 60:
        status = "é«˜ã‚¹ãƒˆãƒ¬ã‚¹çŠ¶æ…‹ï¼ˆå°‚é–€åŒ»ã¸ã®ç›¸è«‡ã‚’ãŠã™ã™ã‚ã—ã¾ã™ï¼‰"
    elif B_score >= 50 and (A_score >= 55 or C_score >= 55):
        status = "æ³¨æ„ï¼šã‚¹ãƒˆãƒ¬ã‚¹åå¿œã‚„è·å ´è¦å› ãŒã‚„ã‚„é«˜ã„æ°´æº–ã§ã™"
    else:
        status = "æ¦‚ã­å®‰å®šã—ã¦ã„ã¾ã™ï¼ˆç¾çŠ¶ç¶­æŒã‚’å¿ƒãŒã‘ã¾ã—ã‚‡ã†ï¼‰"

    st.subheader("è§£æçµæœï¼ˆå…¨å›½å¹³å‡ã¨ã®æ¯”è¼ƒï¼‰")
    st.metric("ç·åˆåˆ¤å®š", status)
    col1, col2, col3 = st.columns(3)
    col1.metric("Aï¼šä»•äº‹ã®è² æ‹…æ„Ÿ", A_score, f"{diff[0]:+}")
    col2.metric("Bï¼šã‹ã‚‰ã ã¨æ°—æŒã¡ã®åå¿œ", B_score, f"{diff[1]:+}")
    col3.metric("Cï¼šå‘¨å›²ã®ã‚µãƒãƒ¼ãƒˆ", C_score, f"{diff[2]:+}")
    st.metric("Dï¼šä»•äº‹ã‚„ç”Ÿæ´»ã®æº€è¶³æ„Ÿ", D_score, f"{diff[3]:+}")

    # --------------------------------------------------------
    # ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ
    # --------------------------------------------------------
    labels = ["A", "B", "C", "D"]
    user, avg = my_vals + [my_vals[0]], nat_vals + [nat_vals[0]]
    angles = np.linspace(0, 2*np.pi, len(labels), endpoint=False).tolist() + [0]

    fig, ax = plt.subplots(figsize=(4, 4), subplot_kw=dict(polar=True))
    ax.plot(angles, user, color="#8B0000", linewidth=2, label="YOU")
    ax.fill(angles, user, color="#8B0000", alpha=0.15)
    ax.plot(angles, avg, color=COLOR_AVG, linestyle="--", linewidth=1.5, label="National AVG")
    ax.fill(angles, avg, color=COLOR_AVG, alpha=0.05)
    ax.set_xticks(angles[:-1])
    ax.set_xticklabels(labels, color="black", fontsize=12, fontweight="bold")
    ax.set_yticklabels([])
    ax.legend(loc="upper right", bbox_to_anchor=(1.3, 1.1))
    st.pyplot(fig)

    # --------------------------------------------------------
    # PDFç”Ÿæˆ
    # --------------------------------------------------------
    buf, img_buf = io.BytesIO(), io.BytesIO()
    fig.savefig(img_buf, format="png", bbox_inches="tight")
    img_buf.seek(0)

    pdfmetrics.registerFont(UnicodeCIDFont("HeiseiMin-W3"))
    c = canvas.Canvas(buf, pagesize=A4)
    c.setFont("HeiseiMin-W3", 11)
    c.drawString(40, 800, f"ä¸­å¤§ç”Ÿå”ç‰ˆ è·æ¥­æ€§ã‚¹ãƒˆãƒ¬ã‚¹ç°¡æ˜“èª¿æŸ»-ver1.4.1 çµæœï¼ˆ{datetime.now().strftime('%Y-%m-%d %H:%M')}ï¼‰")
    c.drawImage(ImageReader(img_buf), 60, 450, width=300, height=300)

    y = 430
    c.setFont("HeiseiMin-W3", 10)
    c.drawString(40, y, f"ç·åˆåˆ¤å®šï¼š{status}")
    y -= 20
    for label, score, avg in zip(["Aï¼šä»•äº‹ã®è² æ‹…æ„Ÿ", "Bï¼šã‹ã‚‰ã ã¨æ°—æŒã¡ã®åå¿œ", "Cï¼šå‘¨å›²ã®ã‚µãƒãƒ¼ãƒˆ", "Dï¼šä»•äº‹ã‚„ç”Ÿæ´»ã®æº€è¶³æ„Ÿ"], my_vals, nat_vals):
        c.drawString(40, y, f"{label}ã€€ã‚ãªãŸï¼š{score:.1f}ã€€å…¨å›½å¹³å‡ï¼š{avg:.1f}")
        y -= 16

    y -= 10
    c.setFont("HeiseiMin-W3", 9)
    c.setFillColorRGB(139/255, 0, 0);     c.drawString(40, y, "A. ä»•äº‹ã®è² æ‹…æ„Ÿ");  c.setFillColorRGB(0, 0, 0)
    c.drawString(140, y, "â†’ æ¥­å‹™é‡ãƒ»è£é‡ãƒ»å½¹å‰²ãªã©è·å ´ã§ã®è² è·ã‚’ç¤ºã—ã¾ã™ã€‚")
    y -= 14
    c.setFillColorRGB(0, 51/255, 102/255); c.drawString(40, y, "B. ã‹ã‚‰ã ã¨æ°—æŒã¡ã®åå¿œ"); c.setFillColorRGB(0, 0, 0)
    c.drawString(160, y, "â†’ ç–²åŠ´ã‚„æ„Ÿæƒ…é¢ãƒ»èº«ä½“é¢ã®åå¿œã‚’è¡¨ã—ã¾ã™ã€‚")
    y -= 14
    c.setFillColorRGB(0, 75/255, 35/255); c.drawString(40, y, "C. å‘¨å›²ã®ã‚µãƒãƒ¼ãƒˆ"); c.setFillColorRGB(0, 0, 0)
    c.drawString(140, y, "â†’ ä¸Šå¸ãƒ»åŒåƒšãƒ»å®¶æ—ãªã©ã‹ã‚‰ã®æ”¯æ´çŠ¶æ³ã‚’ç¤ºã—ã¾ã™ã€‚")
    y -= 14
    c.setFillColorRGB(123/255, 63/255, 0); c.drawString(40, y, "D. ä»•äº‹ã‚„ç”Ÿæ´»ã®æº€è¶³æ„Ÿ"); c.setFillColorRGB(0, 0, 0)
    c.drawString(160, y, "â†’ ç¾åœ¨ã®ä»•äº‹ãƒ»ç”Ÿæ´»ã¸ã®æº€è¶³åº¦ã‚’è¡¨ã—ã¾ã™ã€‚")

    y -= 30
    c.drawString(40, y, "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€")
    y -= 20
    for line in [
        "æœ¬èª¿æŸ»ã¯åšç”ŸåŠ´åƒçœã€Œè·æ¥­æ€§ã‚¹ãƒˆãƒ¬ã‚¹ç°¡æ˜“èª¿æŸ»ç¥¨ï¼ˆ57é …ç›®ï¼‰ã€ã‚’ã‚‚ã¨ã«ã—ãŸ",
        "ä¸­å¤®å¤§å­¦ç”Ÿæ´»å”åŒçµ„åˆã®ã‚»ãƒ«ãƒ•ãƒã‚§ãƒƒã‚¯ç‰ˆã§ã™ã€‚",
        "çµæœã¯ã”è‡ªèº«ã®ã‚¹ãƒˆãƒ¬ã‚¹å‚¾å‘ã‚’æŠŠæ¡ã™ã‚‹ãŸã‚ã®ç›®å®‰ã§ã‚ã‚Šã€",
        "åŒ»å­¦çš„ãªè¨ºæ–­ã‚„è©•ä¾¡ã‚’ç›®çš„ã¨ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚",
        "å¿ƒèº«ã®ä¸èª¿ãŒç¶šãå ´åˆã‚„çµæœã«ä¸å®‰ã‚’æ„Ÿã˜ã‚‹å ´åˆã¯ã€",
        "åŒ»å¸«ãƒ»ä¿å¥å¸«ãƒ»ã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼ç­‰ã®å°‚é–€å®¶ã¸ã”ç›¸è«‡ãã ã•ã„ã€‚"
    ]:
        c.drawString(40, y, line)
        y -= 14

    y -= 30
    c.drawString(40, y, "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€")
    y -= 20
    c.drawString(40, y, "Supervised by General Affairs Division / Information & Communication Team")
    y -= 14
    c.drawString(40, y, "Chuo University Co-op")
    c.drawString(40, y - 8, "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€")

    c.showPage()
    c.save()

    st.download_button(
        "ğŸ“„ PDFã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰",
        buf.getvalue(),
        file_name=f"{datetime.now().strftime('%Y%m%d')}_è·æ¥­æ€§ã‚¹ãƒˆãƒ¬ã‚¹ç°¡æ˜“èª¿æŸ»_çµæœ.pdf",
        mime="application/pdf",
    )

    st.markdown("""
---
â€»æœ¬ãƒã‚§ãƒƒã‚¯ã¯ç°¡æ˜“ã‚»ãƒ«ãƒ•ã‚±ã‚¢ã‚’ç›®çš„ã¨ã—ãŸã‚‚ã®ã§ã‚ã‚Šã€åŒ»å­¦çš„è¨ºæ–­ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚  
çµæœã«ä¸å®‰ãŒã‚ã‚‹å ´åˆã‚„ä½“èª¿ã®å¤‰åŒ–ãŒç¶šãå ´åˆã¯ã€ç”£æ¥­åŒ»ãƒ»ä¿å¥å¸«ãƒ»å°‚é–€åŒ»ã«ã”ç›¸è«‡ãã ã•ã„ã€‚
""")

    if st.button("ğŸ” ã‚‚ã†ä¸€åº¦ã‚„ã‚Šç›´ã™"):
        restart()
